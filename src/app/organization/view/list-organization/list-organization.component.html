<div class="card">
  <p-toolbar styleClass="p-mb-4">
    <ng-template pTemplate="left">
      <div class="p-d-flex p-ai-center p-jc-between">
        <h3 class="p-m-0">Liste des Organisations</h3>
      </div>
    </ng-template>
    <ng-template pTemplate="right">
      <button *ngIf="askForNewOrga" pButton pRipple label="Nouvelle Organisation" icon="pi pi-plus"
              class="p-button-success p-mr-2" (click)="openNew()"></button>
      <button *ngIf="askForUpdateOrga" pButton pRipple [label]="upLoadLabel" icon="pi pi-plus"
              class="p-button-success p-mr-2" (click)="openNew()"></button>
      <button pButton pRipple icon="pi pi-trash" class="p-button-danger" [disabled]="selectedOrga === null"
              (click)="deleteSelectedOrga($event)"
      ></button>
    </ng-template>
  </p-toolbar>
  <p-table [value]="allOrganization$ | async" [(selection)]="selectedOrga" dataKey="idRefog"
           [rows]="10" [paginator]="true" styleClass="p-datatable-lg" [rowHover]="true"
           currentPageReportTemplate="Organisation {first} Ã  {last} sur {totalRecords}" [showCurrentPageReport]="true"
           selectionMode="single"
           (onRowUnselect)="onRowUnselect($event)"
           (onRowSelect)="onRowSelect($event)">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="idRefog">Identification Refog
          <p-sortIcon field="idRefog"></p-sortIcon>
        </th>
        <th pSortableColumn="name">Nom
          <p-sortIcon field="name"></p-sortIcon>
        </th>
        <th pSortableColumn="numberOfApplications">Nombres d'applications
          <p-sortIcon field="numberOfApplications"></p-sortIcon>
        </th>
        <th pSortableColumn="numberOfOrganizations">Nombres d'Organisations
          <p-sortIcon field="numberOfOrganizationsStatus"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-organization>
      <tr [pSelectableRow]="organization">
        <td>{{organization.idRefog}}</td>
        <td>{{organization.name}}</td>
        <td>{{organization.numberOfApplications}}</td>
        <td>{{organization.numberOfOrganizations}}</td>
      </tr>
    </ng-template>
  </p-table>

</div>
